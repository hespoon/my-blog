---
title: CMake
date: 2019-11-23 12:38:58
tags:
---
1. 命令对大小写不敏感，例如 ADD_EXECUTABLE 与 add_executable 都是有效的
2. 变量是 CMAke 语言的基本存储单元，变量的值永远是字符串，有些命令可能会将字符串解释为其他类型的值
3. 变量名区分大小写，并且可以用任何字符组成
4. 变量使用${变量名}的方式取值，但是在IF语句中是直接使用变量名
5. 指令格式为 `指令名(参数1 参数2 ...)` 参数使用括号括起来，参数之间使用空格或分号分开。参数中有空格时，该参数要使用双引号""括起来。
6. 工程名与可执行文件的名称没有关系
7. 使用 make clean 命令清除构建结果
8. CMake 强烈推荐使用外部构建
9. 外部构建过程
    0. 写好源代码和 CMakeLists.txt 文件，并将他们放在同一目录下。
    1. 建立 build 目录。可以在任何地方建立 build 目录，该目录用来存放构建过程中生成的中间文件以及编译需要的 Makefile 文件。
    2. 进入 build 目录，运行 `cmake <工程的全路径>`。工程全路径就是源文件和 CMakeLists.txt 所在的路径，如果 build 目录和他们在一起，可以直接运行 `cmake ..`，其中 `..` 代表父目录。
    3. 在 build 目录下运行 `make` 构建工程，就会在当前路径下得到可执行文件。
10. 进行外部构建时，PROJECT_SOURCE_DIR 的值依旧是源文件所在路径，PROJECT_BINARY_DIR 则指代编译路径。外部构建一个最大的好处是，编译对原有的工程没有任何影响，所有动作都发生在编译目录。